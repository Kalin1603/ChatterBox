@model List<ChatterBox.ViewModels.UserViewModels.SuggestedUserViewModel>

<div class="relative group">
    <button id="chat-icon" class="sm:p-2 p-1 rounded-full relative bg-gray-800 hover:bg-gray-700 transition-all border-2 border-transparent hover:border-gray-600 focus:ring-2 focus:ring-sky-500">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
        </svg>
    </button>
</div>

<div id="chat-list" class="hidden bg-gray-800 rounded-xl shadow-md md:w-[320px] w-80 border border-gray-700 z-[150] p-3"
     uk-drop="offset:6;pos: bottom-right; mode: click; animate-out: true;">
    <div class="flex items-center justify-between gap-2 pb-2 border-b border-gray-700">
        <h3 class="font-semibold text-white text-lg">Chats</h3>
    </div>
    <div class="p-2 h-[350px] overflow-y-auto">
        @if (Model.Any())
        {
            <ul class="space-y-3">
                @foreach (var user in Model)
                {
                    <li>
                        <a asp-action="Chat" asp-controller="Profile" asp-route-userId="@user.User.Id"
                           class="flex items-center gap-4 p-4 text-sm text-gray-300 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors">
                            <img src="@(user.User.ProfilePictureURL ?? "/default-avatar.png")" class="w-10 h-10 rounded-full object-cover">
                            <span class="text-white font-medium text-base">@user.User.FullName</span>
                        </a>
                    </li>
                }
            </ul>
        }
        else
        {
            <div class="p-3 text-sm text-gray-300 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors">
                No users to chat with.
            </div>
        }
    </div>
</div>