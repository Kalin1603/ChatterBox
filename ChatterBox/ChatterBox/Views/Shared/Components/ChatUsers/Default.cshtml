@model List<ChatterBox.ViewModels.UserViewModels.SuggestedUserViewModel>

<div class="relative group">
    <button id="chat-icon" class="sm:p-2 p-1 rounded-full relative bg-gray-800 hover:bg-gray-700 transition-all border-2 border-transparent hover:border-gray-600 focus:ring-2 focus:ring-sky-500">
        <svg width="24" height="24" viewBox="0 0 24 24" data-name="Line Color" xmlns="http://www.w3.org/2000/svg" class="icon line-color">
            <path d="M12 11h.1m-4.2 0H8m8 0h.1" style="fill:none;stroke:#2ca9bc;stroke-linecap:round;stroke-linejoin:round;stroke-width:2" />
            <path d="M18.81 16.23 20 21l-4.95-2.48A9.8 9.8 0 0 1 12 19c-5 0-9-3.58-9-8s4-8 9-8 9 3.58 9 8a7.5 7.5 0 0 1-2.19 5.23" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2" />
        </svg>
    </button>
</div>

<div id="chat-list" class="hidden bg-gray-800 rounded-xl shadow-xl md:w-[250px] w-72 border border-gray-700 z-[150] p-2"
     uk-drop="offset:6;pos: bottom-right; mode: click; animate-out: true;">
    <div class="flex items-center justify-between gap-2 p-4 pb-2 border-b border-gray-700">
        <h3 class="font-bold text-lg text-white">Chats</h3>
    </div>
    <div class="p-3 h-[400px] overflow-y-auto space-y-2">
        @if (Model.Any())
        {
            foreach (var user in Model)
            {
                <a asp-action="Chat" asp-controller="Profile" asp-route-userId="@user.User.Id"
                   class="flex items-center gap-3 p-3 text-sm text-gray-300 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors">
                    <img src="@(user.User.ProfilePictureURL ?? "/default-avatar.png")" class="w-8 h-8 rounded-full object-cover">
                    <span>@user.User.FullName</span>
                </a>
            }
        }
        else
        {
            <div class="p-3 text-sm text-gray-300 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors">
                No users to chat with.
            </div>
        }
    </div>
</div>